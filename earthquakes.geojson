fetch('cleaned_earthquakes.geojson')
    .then(response => response.json())
    .then(data => {
        L.geoJSON(data, {
            pointToLayer: function (feature, latlng) {
                return L.circleMarker(latlng, {
                    radius: feature.properties.magnitude * 2, // Taille en fonction de la magnitude
                    fillColor: "red",
                    color: "#000",
                    weight: 1,
                    opacity: 1,
                    fillOpacity: 0.8
                });
            },
            onEachFeature: function (feature, layer) {
                layer.bindPopup(
                    "Date : " + feature.properties.timestamp + "<br>" +
                    "Magnitude : " + feature.properties.magnitude + "<br>" +
                    "Profondeur : " + feature.properties.depth + " km"
                );
            }
        }).addTo(map);
    });
